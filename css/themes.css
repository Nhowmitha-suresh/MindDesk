/* =========================================================
   MINDDESK ‚Äì ENHANCED AMBIENT BACKGROUND THEMES
   SAFE ‚Ä¢ PROFESSIONAL ‚Ä¢ CLICK-SAFE
========================================================= */

/* =========================================================
   GLOBAL SAFETY LAYER FIX (CRITICAL)
========================================================= */

/* Background & pseudo elements must NEVER capture clicks */
.app[data-page="dashboard"] .bg-effects,
body[data-page="dashboard"] .bg-effects { display: none !important; }
.bg-effects,
.bg-effects::before,
.bg-effects::after,
body::before,
body::after {
  pointer-events: none !important;
}

/* App content must always stay above backgrounds */
#personalityApp,
#dashboardApp,
.main-content {
  position: relative;
  z-index: 10;
}

/* Inputs must always remain clickable */
input,
button,
label {
  pointer-events: auto !important;
  position: relative;
  z-index: 11;
  cursor: pointer;
}

/* =========================================================
   BASE EFFECT LAYER
========================================================= */

.bg-effects {
  position: fixed;
  inset: 0;
  z-index: -2;
  overflow: hidden;
}

/* Reduce motion support */
@media (prefers-reduced-motion: reduce) {
  .bg-effects,
  .bg-effects::before,
  .bg-effects::after {
    animation: none !important;
  }
}

/* =========================================================
   üåÜ CITY NIGHT ‚Äì TRAFFIC STREAKS
========================================================= */

body.theme-city {
  --bg: #020617;
  --surface: #0f172a;
  --surface-muted: #020617;
  --text: #e5e7eb;
  --text-muted: #94a3b8;
  --accent: #38bdf8;
}

body.theme-city .bg-effects::before,
body.theme-city .bg-effects::after {
  content: "";
  position: absolute;
  inset: -40%;
  background:
    linear-gradient(90deg,
      transparent 40%,
      rgba(255,255,255,0.08) 45%,
      transparent 50%
    ),
    linear-gradient(90deg,
      transparent 60%,
      rgba(56,189,248,0.06) 65%,
      transparent 70%
    );
  background-size: 300px 100%;
  animation: cityTraffic 40s linear infinite;
  opacity: 0.25;
}

body.theme-city .bg-effects::after {
  animation-duration: 65s;
  opacity: 0.15;
}

@keyframes cityTraffic {
  from { transform: translateX(0); }
  to { transform: translateX(-20%); }
}

/* =========================================================
   üåßÔ∏è RAINY CITY ‚Äì RAIN + FOG
========================================================= */

body.theme-rain {
  --bg: #020617;
  --surface: #020617;
  --surface-muted: #020617;
  --text: #e5e7eb;
  --text-muted: #9ca3af;
  --accent: #60a5fa;
}

body.theme-rain .bg-effects::before {
  content: "";
  position: absolute;
  inset: -20%;
  background:
    repeating-linear-gradient(
      120deg,
      rgba(255,255,255,0.12),
      rgba(255,255,255,0.12) 1px,
      transparent 1px,
      transparent 14px
    );
  animation: rainFall 28s linear infinite;
  opacity: 0.15;
}

body.theme-rain .bg-effects::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle, rgba(255,255,255,0.06), transparent 65%);
  animation: fogMove 70s linear infinite;
}

@keyframes rainFall {
  from { transform: translateY(-12%); }
  to { transform: translateY(30%); }
}

@keyframes fogMove {
  from { transform: translateX(0); }
  to { transform: translateX(-6%); }
}

/* =========================================================
   üå¨Ô∏è WINDY DAY ‚Äì AIRFLOW
========================================================= */

body.theme-windy {
  --bg: #f8fafc;
  --surface: #ffffff;
  --surface-muted: #f1f5f9;
  --text: #0f172a;
  --text-muted: #64748b;
  --accent: #64748b;
}

body.theme-windy .bg-effects::before {
  content: "";
  position: absolute;
  inset: -30%;
  background:
    repeating-linear-gradient(
      135deg,
      rgba(0,0,0,0.025),
      rgba(0,0,0,0.025) 1px,
      transparent 1px,
      transparent 22px
    );
  animation: windFlow 50s linear infinite;
}

@keyframes windFlow {
  from { transform: translateX(0); }
  to { transform: translateX(-10%); }
}

/* =========================================================
   üåä OCEAN DRIFT ‚Äì WAVES & LIGHT
========================================================= */

body.theme-ocean {
  --bg: #020617;
  --surface: #020617;
  --surface-muted: #020617;
  --text: #e0f2fe;
  --text-muted: #7dd3fc;
  --accent: #38bdf8;
}

body.theme-ocean .bg-effects::before,
body.theme-ocean .bg-effects::after {
  content: "";
  position: absolute;
  inset: -30%;
  background:
    radial-gradient(circle at 30% 40%, rgba(56,189,248,0.14), transparent 60%),
    radial-gradient(circle at 70% 60%, rgba(14,165,233,0.10), transparent 60%);
  animation: oceanDrift 70s ease-in-out infinite alternate;
}

@keyframes oceanDrift {
  from { transform: translateY(-2%); }
  to { transform: translateY(2%); }
}

/* =========================================================
   üå∏ SPRING ‚Äì POLLEN / PETALS
========================================================= */

body.theme-spring {
  --bg: #fdfcfb;
  --surface: #ffffff;
  --surface-muted: #f1f5f9;
  --text: #0f172a;
  --text-muted: #64748b;
  --accent: #ec4899;
}

body.theme-spring .bg-effects::before {
  content: "";
  position: absolute;
  inset: -30%;
  background:
    radial-gradient(circle, rgba(236,72,153,0.18) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(16,185,129,0.12) 0 2px, transparent 3px);
  background-size: 160px 160px, 220px 220px;
  animation: springFloat 55s linear infinite;
  opacity: 0.2;
}

@keyframes springFloat {
  from { transform: translateY(-5%) translateX(0); }
  to { transform: translateY(10%) translateX(-6%); }
}

/* =========================================================
   üçÇ AUTUMN LEAVES
========================================================= */

body.theme-autumn .bg-effects::before {
  content: "";
  position: absolute;
  inset: -40%;
  background:
    radial-gradient(circle, rgba(245,158,11,0.22) 0 2px, transparent 3px),
    radial-gradient(circle, rgba(120,53,15,0.22) 0 2px, transparent 3px);
  background-size: 140px 140px, 200px 200px;
  animation: leavesDrift 60s linear infinite;
}

@keyframes leavesDrift {
  from { transform: translateY(-8%) translateX(0); }
  to { transform: translateY(20%) translateX(-8%); }
}

/* =========================================================
   ‚ùÑÔ∏è SNOW
========================================================= */

body.theme-snow .bg-effects::before {
  content: "";
  position: absolute;
  inset: -30%;
  background:
    radial-gradient(circle, rgba(255,255,255,0.5) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,0.35) 0 1px, transparent 2px);
  background-size: 90px 90px, 140px 140px;
  animation: snowDrift 75s linear infinite;
  opacity: 0.35;
}

@keyframes snowDrift {
  from { transform: translateY(-10%); }
  to { transform: translateY(30%); }
}

/* =========================================================
   CORE THEMES ‚Äì LIGHT / DARK / NEON
========================================================= */

body.theme-light {
  --bg: #f7fafc;
  --surface: #ffffff;
  --surface-muted: #f1f5f9;
  --text: #0f172a;
  --text-muted: #64748b;
  --accent: #6366f1;
  --accent-soft: rgba(99,102,241,0.08);
  --border: rgba(15,23,42,0.06);
}

body.theme-dark {
  --bg: #0b1220;
  --surface: #0f1724;
  --surface-muted: #0b1220;
  --text: #e6eef8;
  --text-muted: #9aa7bb;
  --accent: #60a5fa;
  --accent-soft: rgba(96,165,250,0.08);
  --border: rgba(255,255,255,0.04);
}

body.theme-neon {
  --bg: linear-gradient(135deg,#0f1724 0%, #061826 40%, #08112a 60%, #061827 100%);
  --surface: rgba(6,27,38,0.65);
  --surface-muted: rgba(6,27,38,0.45);
  --text: #e6f7ff;
  --text-muted: #9bd9ff;
  --accent: #7c3aed;
  --accent-2: #06b6d4;
  --accent-soft: linear-gradient(
    90deg,
    rgba(124,58,237,0.12),
    rgba(6,182,212,0.08)
  );
  --border: rgba(255,255,255,0.06);
}

/* Neon background layer */
body.theme-neon::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -3;
  background:
    radial-gradient(circle at 10% 20%, rgba(124,58,237,0.12), transparent 10%),
    radial-gradient(circle at 85% 80%, rgba(6,182,212,0.08), transparent 10%),
    linear-gradient(135deg,#061827 0%, #08112a 50%);
}

/* =========================================================
   END OF ENHANCED THEMES
========================================================= */
